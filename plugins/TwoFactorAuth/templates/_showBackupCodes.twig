
<script type="text/javascript">
    function copyRecoveryCodesToClipboard()
    {
        var textarea = document.createElement('textarea');
        textarea.value = {{ codes|join("\n")|json_encode|raw }};
        textarea.setAttribute('readonly', '');
        textarea.style.position = 'absolute';
        textarea.style.left = '-9999px';
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
    }
    function downloadRecoveryCodes()
    {
        piwikHelper.sendContentAsDownload('analytics_recovery_codes.txt', {{ codes|join("\n")|json_encode|raw }});
    }
</script>

    <p>You can use recovery codes to access your account when you cannot receive two-factor authentication codes, for example when you don't have your mobile device with you.
    </p>
    <div class="alert alert-warning">Please treat your recovery codes with the same level of security as you would your password!</div>

    {% if codes|length > 0 %}
        <ul piwik-select-on-focus class="twoFactorRecoveryCodes">{% for code in codes %}
            <li>{{ code|upper|split('', 4)|join('-') }}</li>
        {% endfor %}
        </ul>
    {% else %}
        <div class="alert alert-danger">All recovery codes have been used, it is highly recommended you regenerate your backup codes</div>
    {% endif %}

    <p>
        <br />
        <input type="button" class="btn backupRecoveryCode" onclick="downloadRecoveryCodes()" value="Download">
        <input type="button" class="btn backupRecoveryCode" onclick="window.print()" value="Print">
        <input type="button" class="btn backupRecoveryCode" onclick="copyRecoveryCodesToClipboard()" value="Copy">
    </p>
